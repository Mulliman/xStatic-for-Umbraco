{"version":3,"file":"dashboard.element-DKo0xYIX.js","sources":["../../../Client/src/dashboards/dashboard.element.ts"],"sourcesContent":["import { html, css, customElement, state } from \"@umbraco-cms/backoffice/external/lit\";\r\nimport { UmbLitElement } from \"@umbraco-cms/backoffice/lit-element\";\r\nimport type { TimeManagementContext } from \"../contexts/time.context.js\";\r\nimport { TIME_MANAGEMENT_CONTEXT_TOKEN } from \"../contexts/time.context.js\";\r\n\r\n@customElement('time-dashboard-element')\r\nexport class TimeDashboardElement extends UmbLitElement {\r\n\r\n    #timeContext?: TimeManagementContext;\r\n\r\n    @state()\r\n    private _time?: string;\r\n\r\n    @state()\r\n    private _date?: string;\r\n\r\n    @state()\r\n    private _isPolling = false;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.consumeContext(TIME_MANAGEMENT_CONTEXT_TOKEN, (instance) => {\r\n            if (!instance) return;\r\n            this.#timeContext = instance;\r\n\r\n            // Initial data fetch\r\n            instance.getDateAndTime();\r\n\r\n            this.observe(instance.time, (time) => {\r\n                this._time = time;\r\n            });\r\n\r\n            this.observe(instance.date, (date) => {\r\n                this._date = date;\r\n            });\r\n\r\n            this.observe(instance.polling, (polling) => {\r\n                this._isPolling = polling;\r\n            });\r\n        });\r\n    }\r\n\r\n    #handleGetTime = async () => {\r\n        await this.#timeContext?.getTime();\r\n    };\r\n\r\n    #handleGetDate = async () => {\r\n        await this.#timeContext?.getDate();\r\n    };\r\n\r\n    #handleToggle = () => {\r\n        this.#timeContext?.togglePolling();\r\n    };\r\n\r\n    override render() {\r\n        return html`\r\n            <uui-box headline=\"${this.localize.term('time_name')}\">\r\n                <div slot=\"header\">\r\n                    <umb-localize key=\"time_description\"></umb-localize>\r\n                </div>\r\n                <div class=\"time-box\">\r\n                  <h2>${this._time}</h2>\r\n                  <uui-button\r\n                    .disabled=${this._isPolling}\r\n                    @click=${this.#handleGetTime} look=\"primary\" color=\"positive\" label=\"get time\"></uui-button>\r\n                </div>\r\n\r\n                <div class=\"time-box\">\r\n                  <h2>${this._date}</h2>\r\n                  <uui-button\r\n                    .disabled=${this._isPolling}\r\n                    @click=${this.#handleGetDate} look=\"primary\" color=\"default\" label=\"get date\"></uui-button>\r\n                </div>\r\n\r\n                <div>\r\n                    <uui-toggle label=\"update\"\r\n                        .checked=\"${this._isPolling}\"\r\n                        @change=${this.#handleToggle}>automatically update</uui-toggle>\r\n                </div>\r\n            </uui-box>\r\n        `;\r\n    }\r\n\r\n    static override styles = css`\r\n        :host {\r\n            display: block;\r\n            padding: 20px;\r\n        }\r\n\r\n        .time-box {\r\n            display: flex;\r\n            margin-bottom: 10px;\r\n            justify-content: space-between;\r\n        }\r\n    `;\r\n}\r\n\r\nexport default TimeDashboardElement;\r\n\r\ndeclare global {\r\n    interface HTMLElementTagNameMap {\r\n        'time-dashboard-element': TimeDashboardElement;\r\n    }\r\n}\r\n"],"names":["_timeContext","_handleGetTime","_handleGetDate","_handleToggle","TimeDashboardElement","UmbLitElement","__privateAdd","__privateGet","TIME_MANAGEMENT_CONTEXT_TOKEN","instance","__privateSet","time","date","polling","html","css","__decorateClass","state","customElement","TimeDashboardElement_default"],"mappings":";;;;;;;;;gVAAAA,GAAAC,GAAAC,GAAAC;AAMO,IAAMC,IAAN,cAAmCC,EAAc;AAAA,EAapD,cAAc;AACV,UAAA,GAZJC,EAAA,MAAAN,CAAA,GASA,KAAQ,aAAa,IA0BrBM,EAAA,MAAAL,GAAiB,YAAY;AACzB,YAAMM,EAAA,MAAKP,IAAc,QAAA;AAAA,IAC7B,CAAA,GAEAM,EAAA,MAAAJ,GAAiB,YAAY;AACzB,YAAMK,EAAA,MAAKP,IAAc,QAAA;AAAA,IAC7B,CAAA,GAEAM,EAAA,MAAAH,GAAgB,MAAM;AAClB,MAAAI,EAAA,MAAKP,IAAc,cAAA;AAAA,IACvB,CAAA,GA/BI,KAAK,eAAeQ,GAA+B,CAACC,MAAa;AAC7D,MAAKA,MACLC,EAAA,MAAKV,GAAeS,CAAA,GAGpBA,EAAS,eAAA,GAET,KAAK,QAAQA,EAAS,MAAM,CAACE,MAAS;AAClC,aAAK,QAAQA;AAAA,MACjB,CAAC,GAED,KAAK,QAAQF,EAAS,MAAM,CAACG,MAAS;AAClC,aAAK,QAAQA;AAAA,MACjB,CAAC,GAED,KAAK,QAAQH,EAAS,SAAS,CAACI,MAAY;AACxC,aAAK,aAAaA;AAAA,MACtB,CAAC;AAAA,IACL,CAAC;AAAA,EACL;AAAA,EAcS,SAAS;AACd,WAAOC;AAAA,iCACkB,KAAK,SAAS,KAAK,WAAW,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,wBAKxC,KAAK,KAAK;AAAA;AAAA,gCAEF,KAAK,UAAU;AAAA,6BAClBP,QAAKN,CAAA,CAAc;AAAA;AAAA;AAAA;AAAA,wBAIxB,KAAK,KAAK;AAAA;AAAA,gCAEF,KAAK,UAAU;AAAA,6BAClBM,QAAKL,CAAA,CAAc;AAAA;AAAA;AAAA;AAAA;AAAA,oCAKZ,KAAK,UAAU;AAAA,kCACjBK,QAAKJ,CAAA,CAAa;AAAA;AAAA;AAAA;AAAA,EAIhD;AAcJ;AAxFIH,IAAA,oBAAA,QAAA;AAmCAC,IAAA,oBAAA,QAAA;AAIAC,IAAA,oBAAA,QAAA;AAIAC,IAAA,oBAAA,QAAA;AA7CSC,EA8EO,SAASW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAzEjBC,EAAA;AAAA,EADPC,EAAA;AAAM,GAJEb,EAKD,WAAA,SAAA,CAAA;AAGAY,EAAA;AAAA,EADPC,EAAA;AAAM,GAPEb,EAQD,WAAA,SAAA,CAAA;AAGAY,EAAA;AAAA,EADPC,EAAA;AAAM,GAVEb,EAWD,WAAA,cAAA,CAAA;AAXCA,IAANY,EAAA;AAAA,EADNE,EAAc,wBAAwB;AAAA,GAC1Bd,CAAA;AA4Fb,MAAAe,IAAef;"}